<div class="d-flex justify-content-center">
    <div class="order-2 order-lg-1">
        <p class="text-center h3 mb-3 mx-1 mx-md-4 mt-4">Your profile information</p>
        <form [formGroup]='profileForm' (ngSubmit)="save(profileForm)" autocomplete='off' class="mx-1 mx-md-6"
            *ngIf="userProfile | async">
            <!-- <p class="fw-lighter mb-3 mx-1 mx-md-4 mt-4">Joined in:</p> -->
            <div class="d-flex flex-row align-items-center mb-4 form-group">
                <div class="form-outline flex-fill mb-0">
                    <label class="form-label">Username</label>
                    <input class="form-control" formControlName='userName' />
                </div>
            </div>
            <div class="d-flex flex-row align-items-center mb-4 form-group">
                <div class="form-outline flex-fill mb-0">
                    <label class="form-label">Email Address</label>
                    <input class="form-control" formControlName='email' />
                </div>
            </div>
            <div class="d-flex flex-row align-items-center mb-4 form-group">
                <div class="form-outline flex-fill mb-0 form-group" style="padding: 0.375rem 0.15rem;">
                    <label class="form-label">First Name</label>
                    <input type="text" class="form-control" formControlName='firstName' placeholder="First Name"
                        [class.is-invalid]='profileForm.get("firstName")?.errors 
                  && profileForm.get("firstName")?.touched' />
                    <div class="invalid-feedback">Please Enter First Name</div>
                </div>
                <div class="form-outline flex-fill mb-0 form-group" style="padding: 0.375rem 0.15rem;">
                    <label class="form-label">Last Name</label>
                    <input type="text" class="form-control" formControlName='lastName' placeholder="Last Name"
                        [class.is-invalid]='profileForm.get("lastName")?.errors 
                  && profileForm.get("lastName")?.touched' />
                    <div class="invalid-feedback">Please Enter Last Name</div>
                </div>
            </div>
            <div class="d-flex flex-row align-items-center mb-4 form-group">
                <div class="form-outline flex-fill mb-0">
                    <label class="form-label">Date Of Birth</label><br />
                    <div class="input-group flex-fill mb-0">
                        <input type="text" class="form-control" formControlName='dateOfBirth' placeholder="yyyy-mm-dd"
                            name="dp" ngbDatepicker #d="ngbDatepicker" [maxDate]="maxDate" [minDate]="minDate">
                        <button class="btn btn-outline-secondary calendar" (click)="d.toggle()" type="button"></button>
                    </div>
                </div>
            </div>
            <div class="d-flex justify-content-center flex-row align-items-center mb-4">
                <div *ngIf="showError" class="alert alert-danger" role="alert">
                    {{errorMessage}}
                </div>
            </div>
            <div class="d-flex justify-content-center flex-row align-items-center mb-4">
                <div *ngIf="showSuccess" class="alert alert-success" role="alert">
                    Your profile has been successfully updated!
                </div>
            </div>
            <div class="d-flex justify-content-center mx-4 mb-3 mb-lg-4">
                <button type="button" style="padding:0.3rem 3rem;" class="btn btn-primary btn-lg"
                    type="submit">Save</button>
            </div>
        </form>
    </div>
</div>